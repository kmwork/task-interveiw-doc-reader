# Тестовое задание.
# Программа-утилита для подсчета количества страниц в документах.
````
сделано по тех заданию: doc/task.pdf
````
## сборка Maven + OpenJDK 11
```
mvn clean compile package
```

## Как пользоваться 
Смотри папку проекта `dist-show`
программа вывод технический лог в логгер (стандартный лог для spring приложения, можно настроить уровни логирования в файле `/src/main/resources/application.yml`)
и выводит в консоль строчки, пример вывода
```
   Documents: 7
   Pages: 2115
   Errors: count = 0 into files = []
   Skip files: 0
```
- где `Error count`- количество файлов пропущенных из-за не корректного формата и ошибок запрета по доступу 
(для Linux-систем это актуально)
- а параметр `Skip files` - количество файлов удаленных (посторонними средствами) во время обхода каталогов, то есть когда файлы попали в выборку,
но их молниеносно удалили по их местоположению

 ### Дистрибутив
в папке проекта `dist-show` есть собранный jar файл и командные файлы 
(`run-page-counter-linux.sh` для Linux и `run-page-counter-windows.bat` для Windows)

#### Запуск в Linux
Если есть дефолтная ява 11 
- Команда для Linux (shell): 
```
./run-page-counter-linux.sh /home/lin/doc/
```
где пример пути `/home/lin/doc/` папка с документами (можно без конечного слеша так `/home/lin/doc`)
если явы дефолтной нет, тогда нужно указать переменную `JAVA_HOME` внутри файла

#### Запуск в Windows
- Команда для windows (bat-файл): 
```
run-page-counter-windows.bat c:\my_docs\
```
где c:\my_docs\ - путь к документам.
Если не объявлена переменная среды окружения JAVA_HOME, тогда нужно прописать в файле `run-page-counter-windows.bat`

### Коды ошибок программы (по Java System.exit(code))
Программа может завершиться с ошибками:
- 100 - не указан аргумент (путь к папке)
- 200 - папка не найдена или неверно указана
- 999 - непредвиденная ошибка в программе
- 0 - успешный выход программы

## Описание по разработке данного продукта
В классе `DocxAndPdfFactory` (пакет `kostya.hacker.parsers`) описаны два парсера форматов (Docx и PDF)
можно добавить класс разбора нового типа документа (нужно заимплементить от интерфейса SingleDocTypeReader и добавить 
строку, по аналогии
```
    public DocxAndPdfFactory() {
        addReader(new DocxReader());
        addReader(new PdfReader());
    }
```


